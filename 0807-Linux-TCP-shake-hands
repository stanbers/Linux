TCP 三次握手：
1. 从最开始双方都处于closed 状态，然后服务器端开始监听某个端口，进入listen 状态；
2. 客户端主动发起连接请求，发送SYN数据包，自己的状态变成了SYN-SENT状态；
3. 服务器收到，返回SYN（对应客户端发来的SYN）和ACK，自己的状态变成了SYN-RECV;
4. 之后客户端再发送ACK 给服务端，自己变成了ESTABLISHED状态，服务端收到ACK 后，也变成了ESTABLISHED 状态
5. 开始传输数据；


TCP 四次挥手：
1. 刚开始双方均处于ESTABLISHED 状态，客户端要断开 了，向服务端发送FIN报文；
2. 发送后，客户端变成了FIN-WAIT-1状态，此时客户端无法再向服务端发关报方，只能接收；
3. 服务端接收后向客户端确认，发送ACK 给客户端，自己变成了CLOSE-WAIT 状态；
4. 客户端收到服务端的确认后，自己变成了FIN-WAIT2状态；
5. 随后，服务端向客户端发送FIN，自己变成了LAST-ACK状态；
6. 客户端收到服务端发来的FIN 后，自己变成了TIME-WAIT状态，然后再发送ACK 给服务端；
7. 此时，客户端需要等待，在这段时间内如果客户端没有再收到服务端的重发请求，表示ACK 成功到达，挥手结束，双方都变成了CLOSED 状态；
